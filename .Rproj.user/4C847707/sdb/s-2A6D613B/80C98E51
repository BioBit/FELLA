{
    "contents" : "exportResults <- function(format = \"csv\", \n                          file = \"myOutput\",\n                          method = \"diffusion\", \n                          threshold = 0.005, \n                          plimit = 15, \n                          nlimit = 250, \n                          object = NULL, \n                          data = FELLA.DATA) {\n  \n  # Writing tables that summarise the results\n  if (format == \"csv\") {\n    message(\"Exporting to a csv file...\")\n    if (method %in% c(\"hypergeom\", \"all\")) {\n      filename <- paste0(file, \"_hypergeom.csv\")\n      df <- generateResultsTable(method = \"hypergeom\", \n                                 threshold = threshold, \n                                 plimit = plimit, \n                                 object = object, \n                                 data = data)\n      write.table(df, \n                  file = filename, \n                  sep = \",\", \n                  row.names = F)\n    }\n    if (method %in% c(\"diffusion\", \"all\")) {\n      filename <- paste0(file, \"_diffusion.csv\")\n      df <- generateResultsTable(method = \"diffusion\", \n                                 threshold = threshold, \n                                 nlimit = nlimit, \n                                 object = object, \n                                 data = data)\n      write.table(df, \n                  file = filename, \n                  sep = \",\", \n                  row.names = F)\n    }\n    if (method %in% c(\"pagerank\", \"all\")) {\n      filename <- paste0(file, \"_pagerank.csv\")\n      df <- generateResultsTable(method = \"pagerank\", \n                                 threshold = threshold, \n                                 nlimit = nlimit, \n                                 object = object, \n                                 data = data)\n      write.table(df, \n                  file = filename, \n                  sep = \",\", \n                  row.names = F)\n    }\n    message(\"Done\")\n    return(invisible())\n  }\n  \n  # Exporting to igraph objects in RData format\n  if (format == \"igraph\") {\n    message(\"Exporting to a RData file using 'igraph' object...\")\n    if (method %in% c(\"hypergeom\", \"all\")) {\n      filename <- paste0(file, \"_hypergeom.RData\")\n      graph <- generateResultsGraph(method = \"hypergeom\", \n                                    threshold = threshold, \n                                    plimit = plimit, \n                                    object = object, \n                                    data = data)\n      save(graph, file = filename)\n    }\n    if (method %in% c(\"diffusion\", \"all\")) {\n      filename <- paste0(file, \"_diffusion.RData\")\n      graph <- generateResultsGraph(method = \"diffusion\", \n                                    threshold = threshold, \n                                    nlimit = nlimit, \n                                    object = object, \n                                    data = data)\n      save(graph, file = filename)\n    }\n    if (method %in% c(\"pagerank\", \"all\")) {\n      filename <- paste0(file, \"_pagerank.RData\")\n      graph <- generateResultsGraph(method = \"pagerank\", \n                                    threshold = threshold, \n                                    nlimit = nlimit, \n                                    object = object, \n                                    data = data)\n      save(graph, file = filename)\n    }\n    message(\"Done\")\n    return(invisible())\n  }\n  \n  # If pdf is specified a report will be generated\n  if (format == \"pdf\") {\n    message(\"Generating pdf report...\")\n    \n#     knit2pdf(input = \"/home/sergi/Rstuffbro/FEllA/data/report.Rnw\")\n    knit2pdf(input = \"/home/sergi/Rstuffbro/FEllA/data/report.Rnw\", \n             output = paste0(file, \".tex\"))\n# output = \"report.tex\")\n    \n    message(\"Done\")\n    return(invisible())\n  }\n  \n  # Other formats that can be exported with igraph\n  message(paste0(\"Exporting to custom format \", format, \"using igraph...\")) \n  if (method %in% c(\"hypergeom\", \"all\")) {\n    filename <- paste0(file, \"_hypergeom.\", format)\n    graph <- generateResultsGraph(method = \"hypergeom\", \n                                  threshold = threshold, \n                                  plimit = plimit, \n                                  object = object, \n                                  data = data)\n    write.graph(graph = graph, file = filename, format = format)\n  }\n  if (method %in% c(\"diffusion\", \"all\")) {\n    filename <- paste0(file, \"_diffusion.\", format)\n    graph <- generateResultsGraph(method = \"diffusion\", \n                                  threshold = threshold, \n                                  nlimit = nlimit, \n                                  object = object, \n                                  data = data)\n    write.graph(graph = graph, file = filename, format = format)\n  }\n  if (method %in% c(\"pagerank\", \"all\")) {\n    filename <- paste0(file, \"_pagerank.\", format)\n    graph <- generateResultsGraph(method = \"pagerank\", \n                                  threshold = threshold, \n                                  nlimit = nlimit, \n                                  object = object, \n                                  data = data)\n    write.graph(graph = graph, file = filename, format = format)\n  }\n  message(\"Done\")\n  return(invisible())\n  \n  \n}",
    "created" : 1431008775339.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "363285395",
    "id" : "80C98E51",
    "lastKnownWriteTime" : 1431336670,
    "path" : "~/Rstuffbro/FEllA/R/exportResults.R",
    "project_path" : "R/exportResults.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}